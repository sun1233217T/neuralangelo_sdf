EXPERIMENT=dtu
GROUP=test
NAME=test2
CONFIG=projects/neuralangelo/configs/${EXPERIMENT}.yaml
GPUS=1  # use >1 for multi-GPU training!
CUDA_VISIBLE_DEVICES=0 torchrun --master_port=29503 --nproc_per_node=${GPUS} train.py \
    --logdir=logs/${GROUP}/${NAME} \
    --config=${CONFIG} \
    --show_pbar \
	--wandb  --wandb_name sdf_train_test\
	--resume

python3 projects/neuralangelo/scripts/convert_data_to_json.py --data_dir /home/haochen/data/DTU/scan24 --scene_type object


CHECKPOINT=logs/${GROUP}/${NAME}/xxx.pt
OUTPUT_MESH=logs/${GROUP}/${NAME}/test.ply
CONFIG=logs/${GROUP}/${NAME}/config.yaml
RESOLUTION=2048
BLOCK_RES=128
GPUS=1  # use >1 for multi-GPU mesh extraction
torchrun --nproc_per_node=${GPUS} projects/neuralangelo/scripts/extract_mesh.py \
    --config=${CONFIG} \
    --checkpoint=${CHECKPOINT} \
    --output_file=${OUTPUT_MESH} \
    --resolution=${RESOLUTION} \
    --block_res=${BLOCK_RES}

EXPERIMENT=dtu
GROUP=test
NAME=sdf_GS_gengeration_test2
CONFIG=projects/sdf_GS_gengeration/configs/${EXPERIMENT}-win.yaml
python train.py --single_gpu \
    --logdir=logs/${GROUP}/${NAME} \
    --config=${CONFIG} \
    --show_pbar \
	--wandb  --wandb_name test\
	--resume --checkpoint logs/test/base/epoch_00408_iteration_000020000_checkpoint.pt --sdf_bootstrap

EXPERIMENT=dtu
GROUP=test
NAME=sdf_train_speed2
CONFIG=projects/sdf_angelo/configs/${EXPERIMENT}-win.yaml
python train.py --single_gpu \
    --logdir=logs/${GROUP}/${NAME} \
    --config=${CONFIG} \
    --show_pbar \
	--wandb  --wandb_name test\
	--resume 

CHECKPOINT=logs/${GROUP}/${NAME}/xxx.pt
OUTPUT_MESH=meshout/test1.ply
CONFIG=logs/${GROUP}/${NAME}/config.yaml
RESOLUTION=2048
BLOCK_RES=128
GPUS=1  # use >1 for multi-GPU mesh extraction
python projects/sdf_angelo/scripts/extract_mesh.py --single_gpu \
    --config=${CONFIG} \
    --checkpoint=${CHECKPOINT} \
    --output_file=${OUTPUT_MESH} \
    --resolution=${RESOLUTION} \
    --block_res=${BLOCK_RES} --textured